<?xml version="1.0" encoding="UTF-8"?>

-<jasperReport name="report name" uuid="4ffb19f7-248e-4930-86f6-58349374f5ce" isIgnorePagination="true" bottomMargin="5" topMargin="5" rightMargin="5" leftMargin="5" columnWidth="592" pageHeight="842" pageWidth="602" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://jasperreports.sourceforge.net/jasperreports">

<property name="ireport.zoom" value="2.0"/>

<property name="ireport.x" value="0"/>

<property name="ireport.y" value="0"/>

<property name="ireport.jasperserver.reportUnit" value="/HBO/AlarmsByDevice"/>

<property name="ireport.jasperserver.url" value="http://localhost/jasperserver-pro/services/repository"/>


-<parameter name="startDate" class="java.sql.Timestamp">


-<defaultValueExpression>

<![CDATA[]]>

</defaultValueExpression>

</parameter>


-<parameter name="endDate" class="java.sql.Timestamp">


-<defaultValueExpression>

<![CDATA[]]>

</defaultValueExpression>

</parameter>


-<parameter name="origin" class="java.lang.String">


-<defaultValueExpression>

<![CDATA["primary"]]>

</defaultValueExpression>

</parameter>


-<queryString>

<![CDATA[select hostname, prid, severity, message, created, level as max_level, suppcount from NAS_TRANSACTION_SUMMARY where created between $P{startDate} and $P{endDate} and level > 2 and prid = 'cdm' order by hostname, created]]>

</queryString>

<field name="hostname" class="java.lang.String"/>

<field name="prid" class="java.lang.String"/>

<field name="severity" class="java.lang.String"/>

<field name="message" class="java.lang.String"/>

<field name="created" class="java.sql.Timestamp"/>

<field name="max_level" class="java.lang.Integer"/>

<field name="suppcount" class="java.lang.Integer"/>


-<variable name="alarm_status_1" class="java.lang.Integer">


-<variableExpression>

<![CDATA[]]>

</variableExpression>

</variable>


-<variable name="alarm_status_2" class="java.lang.Integer">


-<variableExpression>

<![CDATA[]]>

</variableExpression>

</variable>


-<variable name="alarm_status_3" class="java.lang.Integer">


-<variableExpression>

<![CDATA[]]>

</variableExpression>

</variable>


-<variable name="critical_count" class="java.lang.Integer" calculation="Count" resetGroup="hostname" resetType="Group">


-<variableExpression>

<![CDATA[$F{max_level}.intValue() == 5 ? 0 : null]]>

</variableExpression>

</variable>


-<variable name="major_count" class="java.lang.Integer" calculation="Count" resetGroup="hostname" resetType="Group">


-<variableExpression>

<![CDATA[$F{max_level}.intValue() == 4 ? 0 : null]]>

</variableExpression>

</variable>


-<variable name="warning_count" class="java.lang.Integer" calculation="Count" resetGroup="hostname" resetType="Group">


-<variableExpression>

<![CDATA[$F{max_level}.intValue() == 2 ? 0 : null]]>

</variableExpression>

</variable>


-<variable name="minor_count" class="java.lang.Integer" calculation="Count" resetGroup="hostname" resetType="Group">


-<variableExpression>

<![CDATA[$F{max_level}.intValue() == 3 ? 0 : null]]>

</variableExpression>

</variable>


-<variable name="message_1" class="java.lang.Integer" calculation="Count" resetGroup="hostname" resetType="Group">


-<variableExpression>

<![CDATA[$F{message}]]>

</variableExpression>

</variable>


-<group name="hostname" keepTogether="true">


-<groupExpression>

<![CDATA[$F{hostname}]]>

</groupExpression>


-<groupHeader>


-<band height="40">


-<frame>

<reportElement uuid="4efc1198-e071-4a57-ab70-167b0ecb72db" height="35" backcolor="#CCCCCC" width="592" y="3" x="0" mode="Opaque"/>


-<box>

<leftPen lineWidth="0.5"/>

<rightPen lineWidth="0.5"/>

</box>


-<textField evaluationGroup="hostname" evaluationTime="Group">

<reportElement uuid="c6dd6288-8c89-48a3-851d-a2b9726efda6" height="15" width="386" y="20" x="0" forecolor="#333333"/>

<box rightPadding="0" leftPadding="5"/>


-<textElement verticalAlignment="Middle">

<font isBold="true" size="8"/>

</textElement>


-<textFieldExpression>

<![CDATA["Critical: "+$V{critical_count}+" | Major: "+$V{major_count}+" | Minor: "+$V{minor_count}+" | Total: "+$V{message_1}]]>

</textFieldExpression>

</textField>


-<textField>

<reportElement uuid="a8d24469-a3a6-4be6-972d-9cb03c6524b3" height="20" width="215" y="0" x="0" forecolor="#333333"/>

<box leftPadding="5"/>


-<textElement verticalAlignment="Middle">

<font isBold="true" size="10" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA["Host: "+$F{hostname}]]>

</textFieldExpression>

</textField>

</frame>

</band>

</groupHeader>

</group>


-<title>


-<band height="35">


-<frame>

<reportElement uuid="d394e864-e18f-4844-9781-e20009c763f8" height="35" backcolor="#666666" width="592" y="0" x="0" mode="Transparent"/>


-<staticText>

<reportElement uuid="a386c788-4e92-43c8-8395-ca70f0f54df4" height="35" width="229" y="0" x="0" forecolor="#333333"/>

<box leftPadding="5"/>


-<textElement verticalAlignment="Middle">

<font isBold="true" size="14"/>

</textElement>


-<text>

<![CDATA[Alarm History Report]]>

</text>

</staticText>


-<staticText>

<reportElement uuid="a8d4357e-76a8-4a4f-ae85-e57fd34f7f14" height="18" width="363" y="8" x="229" forecolor="#333333"/>

<box rightPadding="5"/>


-<textElement verticalAlignment="Middle" textAlignment="Right">

<font isBold="false" size="10"/>

</textElement>


-<text>

<![CDATA[Shows CDM alarms with Severity > 2 (Warning) for Specified Period]]>

</text>

</staticText>

</frame>

</band>

</title>


-<columnHeader>


-<band height="30">


-<frame>

<reportElement uuid="5645a997-5455-4022-ad70-721260ffd61d" height="30" backcolor="#73AFD9" width="592" y="0" x="0" mode="Opaque"/>

</frame>


-<textField>

<reportElement uuid="e374b8fa-41f8-438d-964c-aaf1fe87982a" height="30" backcolor="#73AFD9" width="71" y="0" x="0" forecolor="#FFFFFF"/>

<box leftPadding="0"/>


-<textElement verticalAlignment="Middle" textAlignment="Center">

<font isBold="true" size="10" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA["Probe"]]>

</textFieldExpression>

</textField>


-<textField>

<reportElement uuid="47e26f85-fe18-4e6a-80db-5dedbef70d91" height="30" backcolor="#73AFD9" width="42" y="0" x="71" forecolor="#FFFFFF"/>


-<textElement verticalAlignment="Middle" textAlignment="Center">

<font isBold="true" size="10" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA["Severity"]]>

</textFieldExpression>

</textField>


-<textField>

<reportElement uuid="1e5bc063-dc3e-46c6-8b4e-5c8dfa308b5a" height="30" backcolor="#73AFD9" width="335" y="0" x="215" forecolor="#FFFFFF"/>

<box leftPadding="0"/>


-<textElement verticalAlignment="Middle" textAlignment="Center">

<font isBold="true" size="10" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA["Message"]]>

</textFieldExpression>

</textField>


-<textField>

<reportElement uuid="d25828dc-405d-4d1a-a252-e58f70034c27" height="30" backcolor="#73AFD9" width="102" y="0" x="113" forecolor="#FFFFFF"/>


-<textElement verticalAlignment="Middle" textAlignment="Center">

<font isBold="true" size="10" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA["Time Origin"]]>

</textFieldExpression>

</textField>


-<textField>

<reportElement uuid="7a08a59e-76e1-415c-baef-e4f919e90603" height="30" backcolor="#73AFD9" width="42" y="0" x="550" forecolor="#FFFFFF"/>

<box rightPadding="0"/>


-<textElement verticalAlignment="Middle" textAlignment="Center">

<font isBold="true" size="8" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA["Supp Count"]]>

</textFieldExpression>

</textField>

</band>

</columnHeader>


-<detail>


-<band height="20">


-<textField isStretchWithOverflow="true">

<reportElement uuid="ca8c888d-72fd-4c21-ba28-8f5b34e58e37" height="20" width="71" y="0" x="0"/>


-<box leftPadding="0">

<leftPen lineWidth="0.5"/>

</box>


-<textElement verticalAlignment="Middle" textAlignment="Center">

<font size="8" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA[$F{prid}]]>

</textFieldExpression>

</textField>


-<textField isStretchWithOverflow="true">

<reportElement uuid="6f34d43c-9478-4f15-9a87-5c4d6c7c192b" height="20" width="42" y="0" x="71"/>

<box leftPadding="0"/>


-<textElement verticalAlignment="Middle" textAlignment="Center">

<font size="8" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA[$F{severity}]]>

</textFieldExpression>

</textField>


-<textField isStretchWithOverflow="true">

<reportElement uuid="3ca19d19-81d3-4f49-b64c-5b395ee12574" height="20" width="335" y="0" x="215"/>


-<box leftPadding="5">

<leftPen lineWidth="0.5"/>

</box>


-<textElement verticalAlignment="Middle">

<font size="8" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA[$F{message}]]>

</textFieldExpression>

</textField>


-<textField isStretchWithOverflow="true" pattern="d MMM yyyy HH:mm:ss">

<reportElement uuid="7be30600-4341-4c33-874f-fe0db03325cc" height="20" width="102" y="0" x="113"/>

<box leftPadding="0"/>


-<textElement verticalAlignment="Middle" textAlignment="Center">

<font size="8" fontName="SansSerif"/>

</textElement>


-<textFieldExpression>

<![CDATA[$F{created}]]>

</textFieldExpression>

</textField>


-<textField>

<reportElement uuid="9951786c-9c32-489c-b0e8-c6b67afb8634" height="20" width="42" y="0" x="550"/>


-<box rightPadding="0">

<leftPen lineWidth="0.5"/>

<rightPen lineWidth="0.5"/>

</box>

<textElement verticalAlignment="Middle" textAlignment="Center"/>


-<textFieldExpression>

<![CDATA[$F{suppcount}]]>

</textFieldExpression>

</textField>

</band>

</detail>

</jasperReport>
